import{r as h,j as t,o as a,R as x,I as _}from"./index-EQ7WCn_a.js";import{Q as y}from"./QuantityButton-C9zv40x2.js";import{u as m,a as j}from"./app.hooks-DxXljtc5.js";import"./Button-NgNVC6NY.js";import"./className-CUjXWMz9.js";const f="_products_1102y_1",g={products:f},A="_product_1yast_1",C="_info_1yast_9",N="_name_1yast_12",P="_hidden_1yast_22",v="_price_1yast_25",I="_photo-and-add-to-cart_1yast_30",S="_noPhoto_1yast_38",k="_photoContainer_1yast_41",e={product:A,info:C,name:N,hidden:P,price:v,photoAndAddToCart:I,noPhoto:S,photoContainer:k},E=r=>{const{product:o,quantity:c}=r,[n,i]=h.useState(c>0),s=m(),p=()=>{s(a.addProductToOrder({productId:o.id,productName:o.name,productPrice:o.price}))},d=()=>{s(a.increaseQuantityForProduct({productId:o.id}))},l=()=>{s(a.decreaseQuantityForProduct({productId:o.id}))},u=()=>{c||i(!n)};return t.jsxs("div",{className:e.product,children:[t.jsxs("div",{className:e.info,onClick:u,children:[t.jsx("h3",{className:e.name,children:o.name}),t.jsx("p",{children:o.ingredients}),t.jsxs("div",{className:n?"":e.hidden,children:[t.jsx("p",{style:{color:"black"},children:"For 100g:"}),t.jsx("p",{children:o.nutrients}),t.jsx("p",{style:{color:"black"},children:"Allergens:"}),t.jsx("p",{children:o.allergens})]}),t.jsxs("p",{className:e.price,children:[o.price," lei"]})]}),t.jsxs("div",{className:e.photoAndAddToCart,children:[t.jsx("div",{onClick:u,className:e.photoContainer,children:o.photoUrl?t.jsx("img",{loading:"lazy",src:o.photoUrl,alt:o.name}):t.jsx("div",{className:e.noPhoto})}),n&&t.jsx(y,{onClick:p,onIncrement:d,onDecrement:l,quantity:c,text:"Adauga in cos"})]})]})},Q=({})=>{const{products:r,currentOrder:o}=j(s=>s.order),{locationSlug:c}=x.useParams(),{data:n}=_(c),i=m();return h.useEffect(()=>{r.length===0&&o.length===0?i(a.setStatus("empty")):i(a.setStatus("products"))},[r,o]),t.jsx("div",{className:g.products,children:n==null?void 0:n.filter(s=>s.products.length>0).map(s=>{var p;return t.jsxs("div",{style:{width:"90%"},children:[t.jsx("h2",{children:s.categoryName}),(p=s.products)==null?void 0:p.map(d=>{var l;return t.jsx(E,{product:d,quantity:((l=r.find(u=>u.productId===d.id))==null?void 0:l.quantity)||0},d.id)})]},s.categoryId)})})},b=Q;export{b as component};
