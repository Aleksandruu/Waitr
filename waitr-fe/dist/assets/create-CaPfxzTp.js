import{r as f,p as C,B as h,j as e}from"./index-C3QVUPQN.js";import{u as y,o as q,c as P,a as i,d as B}from"./yup-y7aUSkWA.js";import{I as s}from"./Input-DexMXm3g.js";import{B as N}from"./Button-DQX12hWn.js";import{S as b}from"./Select-BrtOYQkb.js";import{I as O}from"./ImageInput-0sIJoksT.js";const w=[{value:"cook",label:"Bucătar"},{value:"barman",label:"Barman"},{value:"barista",label:"Barista"},{value:"ready",label:"Gata de servit"}],A=P({name:i().required("Numele produsului este obligatoriu"),ingredients:i().required("Ingredientele sunt obligatorii"),nutrients:i().required("Valorile nutritive sunt obligatorii"),allergens:i().required("Alergenii sunt obligatorii"),price:B().required("Prețul este obligatoriu").positive("Prețul trebuie să fie pozitiv"),categoryId:i().notOneOf(["0"],"Categoria este obligatorie").required("Categoria este obligatorie"),initialStatus:i().oneOf(["cook","barman","barista","ready"],"Status invalid").required("Statusul inițial este obligatoriu")}),$=({})=>{var l,u,m,g,d,c,p;const[n,x]=f.useState(void 0),{data:o,isLoading:k}=C(),{register:r,handleSubmit:S,formState:{errors:t,isValid:j}}=y({resolver:q(A),mode:"onChange"}),[v]=h(),I=async a=>{await v({photo:n,...a}).unwrap()};return e.jsx("div",{className:"container",children:e.jsxs("form",{className:"middle-column-container",onSubmit:S(I),children:[e.jsx("h1",{children:"Creaza produs nou"}),e.jsx(s,{name:"name",label:"Nume",type:"text",register:r("name"),error:(l=t.name)==null?void 0:l.message}),e.jsx(s,{name:"price",label:"Pret",type:"number",register:r("price"),error:(u=t.price)==null?void 0:u.message}),e.jsx(b,{name:"categoryId",label:"Categoria",options:[{value:"0",label:"Alegeti categoria"},...(o==null?void 0:o.map(a=>({value:a.id,label:a.name})))||[]],register:r("categoryId"),error:(m=t.categoryId)==null?void 0:m.message}),e.jsx(b,{name:"initialStatus",label:"Status initial",options:w,register:r("initialStatus"),error:(g=t.initialStatus)==null?void 0:g.message}),e.jsx(s,{name:"ingredients",label:"Ingredients",register:r("ingredients"),error:(d=t.ingredients)==null?void 0:d.message}),e.jsx(s,{name:"nutrients",label:"Nutrients",register:r("nutrients"),error:(c=t.nutrients)==null?void 0:c.message}),e.jsx(s,{name:"allergens",label:"Allergens",register:r("allergens"),error:(p=t.allergens)==null?void 0:p.message}),e.jsx(O,{name:"Imagine produs",small:"Încărcați o imagine pentru produs (opțional)",onChange:a=>x(a),initialImage:n}),e.jsx(N,{text:"Submit",color:"brand",submit:!0,tall:!0,wide:!0,disabled:!j})]})})},M=$;export{M as component};
