import{r as h,b as m,j as s,o as l,R as x,J as _}from"./index-DzrIMVFX.js";import{Q as j}from"./QuantityButton-CQooDu-m.js";import{u as y}from"./app.hooks-DD5JABVg.js";import"./Button-DkkFWPV7.js";import"./className-CUjXWMz9.js";const f="_products_1102y_1",g={products:f},A="_product_1yast_1",C="_info_1yast_9",N="_name_1yast_12",P="_hidden_1yast_22",v="_price_1yast_25",I="_photo-and-add-to-cart_1yast_30",S="_noPhoto_1yast_38",k="_photoContainer_1yast_41",o={product:A,info:C,name:N,hidden:P,price:v,photoAndAddToCart:I,noPhoto:S,photoContainer:k},E=({product:t,quantity:n})=>{const[c,a]=h.useState(n>0),r=m(),e=()=>{r(l.addProductToOrder({productId:t.id,productName:t.name,productPrice:t.price}))},p=()=>{r(l.increaseQuantityForProduct({productId:t.id}))},d=()=>{r(l.decreaseQuantityForProduct({productId:t.id}))},i=()=>{n||a(!c)};return s.jsxs("div",{className:o.product,children:[s.jsxs("div",{className:o.info,onClick:i,children:[s.jsx("h3",{className:o.name,children:t.name}),s.jsx("p",{children:t.ingredients}),s.jsxs("div",{className:c?"":o.hidden,children:[s.jsx("p",{style:{color:"black"},children:"For 100g:"}),s.jsx("p",{children:t.nutrients}),s.jsx("p",{style:{color:"black"},children:"Allergens:"}),s.jsx("p",{children:t.allergens})]}),s.jsxs("p",{className:o.price,children:[t.price," lei"]})]}),s.jsxs("div",{className:o.photoAndAddToCart,children:[s.jsx("div",{onClick:i,className:o.photoContainer,children:t.photoUrl?s.jsx("img",{loading:"lazy",src:t.photoUrl,alt:t.name}):s.jsx("div",{className:o.noPhoto})}),c&&s.jsx(j,{onClick:e,onIncrement:p,onDecrement:d,quantity:n,text:"Adauga in cos"})]})]})},Q=({})=>{const{products:t,currentOrder:n}=y(e=>e.order),{locationSlug:c}=x.useParams(),{data:a}=_(c),r=m();return h.useEffect(()=>{t.length===0&&n.length===0?r(l.setStatus("empty")):r(l.setStatus("products"))},[t,n]),s.jsx("div",{className:g.products,children:a==null?void 0:a.filter(e=>e.products.length>0).map(e=>{var p;return s.jsxs("div",{style:{width:"90%"},children:[s.jsx("h2",{children:e.categoryName}),(p=e.products)==null?void 0:p.map(d=>{var i;return s.jsx(E,{product:d,quantity:((i=t.find(u=>u.productId===d.id))==null?void 0:i.quantity)||0},d.id)})]},e.categoryId)})})},O=Q;export{O as component};
